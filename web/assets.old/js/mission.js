!function(i){function e(){i.ajax({url:Routing.generate("service_civique_approval_show",{approval_number:i("#service_civique_mission_approvalNumber").val()}),beforeSend:function(){a("loading")}}).done(function(i){n(i)}).fail(function(){n(null,!0)})}function n(e,n){a("ok"),i("[data-approval]").each(function(){var a=i(this),r="Information non disponible";if(n||(r=e[a.attr("data-approval")]),"pdf_url"===a.attr("data-approval"))""==r||n||a.html('<div class="btn-box center"><a class="btn-sc-red-2 btn btn-lg" href="'+r+'" title="Télécharger l\'agrément"><i class="icon-download"></i>  Télécharger l\'agrément</a></div>');else if("term_date"===a.attr("data-approval")||"decision_date"===a.attr("data-approval")){if(""!=r&&"Information non disponible"!=r){var t=new Date(r);a.html(o(t.getDate())+"/"+o(t.getMonth()+1)+"/"+t.getFullYear())}}else a.html(r)})}function o(i){return 10>i?"0"+i:i}function a(e){"loading"===e?(i(".agreement-content").hide(),i(".agreement-loader").show()):(i(".agreement-loader").hide(),i(".agreement-content").show())}function r(){var e=i("#service_civique_mission_location_area, #service_civique_mission_location_department"),n=i("#service_civique_mission_location_country");i("#service_civique_mission_is_overseas_1").is(":checked")?(e.removeAttr("disabled").parent().show(),n.attr("disabled","disabled").parent().hide()):(n.removeAttr("disabled").parent().show(),e.attr("disabled","disabled").parent().hide())}function t(){var e=i("#service_civique_mission_organization_new_organization_user_email, #service_civique_mission_organization_new_organization_name"),n=i("#service_civique_mission_organization_organization");i("#service_civique_mission_organization_is_new_organization_1").is(":checked")?(e.removeAttr("disabled").parent().show(),n.attr("disabled","disabled").parent().hide()):(n.removeAttr("disabled").parent().show(),e.attr("disabled","disabled").parent().hide())}function s(){i("#service_civique_mission_approved_choice_1").is(":checked")?(i(".form-group-is_new_organization").show(),i(".form-group-organization-select").hide()):(i(".form-group-is_new_organization").hide(),i(".form-group-organization-select").hide())}t(),i('input[name="service_civique_mission\\[organization\\]\\[is_new_organization\\]"]').on("ifChecked",function(i){t()}),r(),i('input[name="service_civique_mission\\[is_overseas\\]"]').on("ifChecked",function(i){r()}),null!=i("#service_civique_mission_approvalNumber").val()&&e(),i("#service_civique_mission_approvalNumber").on("blur",function(i){e()}),i(".form-group-approved_choice").length&&(i(".form-group-is_new_organization").hide(),i(".form-group-organization-select").hide()),i("#service_civique_mission_approved_choice input").on("ifChecked",function(i){s()}),s()}(jQuery);